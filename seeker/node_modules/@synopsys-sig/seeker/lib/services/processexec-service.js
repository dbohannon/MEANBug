"use strict";function e(){function e(){const e=new o;e.processKey=t.config.bootstrapCfg.processKey,e.uuid=t.config.bootstrapCfg.executionUuid,e.hostname=s.resolveHostname(),e.osFamily=s.resolveOsFamily(),e.systemEnvironment=t.services.instrumentation.safeExecuteWithoutInstrumentation(()=>s.resolveSystemEnvironment()),e.ipAddresses=s.resolveIpAddresses(),e.startTstamp=Date.now(),e.cmdLine=process.argv.join(" "),e.user=s.isWindows()?process.env.USERNAME:process.env.USER,e.user||(e.user="[N/A]"),e.pid=process.pid,e.envVars=process.env,e.type="NODEJS",e.name=process.env.SEEKER_AGENT_NAME,e.agentVersion=t.config.bootstrapCfg.agentVersion;const c=t.services.process_version;return c.isFeatureEnabled()&&(e.projectVersion=c.getProjectVersion()),e}let t;this.processExecData=null,this.init=function(e){t=e},this.start=function(){this.processExecData=e(),this.submit()},this.submit=function(){this.processExecData.projectKey=t.config.projectCfg.key,this.processExecData.collectorKey=t.config.collectorCfg.key,t.services.collector.wsSend({command:"ProcessExec.Push",data:{type:"com.synopsys.unicol.commons.objects.messages.data.processexec.ProcessExecPushCommandData",processExecData:this.processExecData}})}}const s=require("../util/misc"),o=require("../entities/processexec-data");module.exports=new e;